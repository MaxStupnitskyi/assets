(this.webpackJsonpbinance=this.webpackJsonpbinance||[]).push([[0],{10:function(e,t,n){e.exports={tableWrapper:"TableBlock_tableWrapper__3TZFm",table:"TableBlock_table__3J1J1",title:"TableBlock_title__oqcT7",header:"TableBlock_header__34bI2",totalRow:"TableBlock_totalRow__8iUvp",positive:"TableBlock_positive__2JUG4",negative:"TableBlock_negative__3iLEv"}},11:function(e,t,n){e.exports={table:"TotalTable_table__Mltg9",titleRow:"TotalTable_titleRow__1YDvm",totalRow:"TotalTable_totalRow__3L-Et",positive:"TotalTable_positive__2hvRs",negative:"TotalTable_negative__1i0YO"}},23:function(e,t,n){e.exports={app:"App_app__3BT4Y",input:"App_input__1k4p7"}},26:function(e,t){},39:function(e,t){},40:function(e,t){},42:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(14),i=n.n(a),s=n(6),l=n.n(s),j=n(5),o=n(3),d=n(15),b=n(4),u=n(44),h=(n(33),n(22)),O=n.n(h),x=n(27),f=n(43),p=n(8),_=n.n(p),v=function(e,t){return parseFloat(Number(e).toFixed(t))},m=n(10),T=n.n(m),g=n(0),y=function(e){var t=e.data,n=e.coinsPrice;return Object.keys(t).map((function(e){var c,r=.999*t[e].reduce((function(e,t){return"BUY"===t[2]?e+ +t[4]:e-+t[4]}),0),a=v(t[e].reduce((function(e,t){return"BUY"===t[2]&&e+ +t[5]}),0)/t[e].filter((function(e){return"BUY"===e[2]})).length,4),i=v(t[e].reduce((function(e,t){return"BUY"===t[2]?e+ +t[7]:e-+t[7]}),0),2),s=v(n[e]*r,2),l=v(s-i,2);return i>=1&&Object(g.jsx)("div",{className:T.a.tableWrapper,children:Object(g.jsxs)(f.a,{className:T.a.table,variant:"dark",children:[Object(g.jsxs)("thead",{children:[Object(g.jsx)("tr",{className:T.a.title,children:Object(g.jsx)("th",{colSpan:"9",children:e.slice(0,-4)})}),Object(g.jsxs)("tr",{className:T.a.header,children:[Object(g.jsx)("th",{children:"Date"}),Object(g.jsx)("th",{children:"Type"}),Object(g.jsx)("th",{children:"Order Amount"}),Object(g.jsx)("th",{children:"Fee"}),Object(g.jsx)("th",{children:"Price"}),Object(g.jsx)("th",{children:"Total"}),Object(g.jsx)("th",{children:"Current Price"}),Object(g.jsx)("th",{children:"Current Value"}),Object(g.jsx)("th",{children:"Diff"})]})]}),Object(g.jsxs)("tbody",{children:[t[e].map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e[0]}),Object(g.jsx)("td",{children:e[2]}),Object(g.jsx)("td",{children:e[4]}),Object(g.jsx)("td",{children:v(e[4]-.999*e[4],8)}),Object(g.jsx)("td",{children:v(e[5],4)}),Object(g.jsxs)("td",{children:["$",v(e[7],2)]}),Object(g.jsx)("td",{}),Object(g.jsx)("td",{}),Object(g.jsx)("td",{})]},e[0])})),Object(g.jsxs)("tr",{className:_()(T.a.totalRow,(c={},Object(j.a)(c,T.a.positive,l>=0),Object(j.a)(c,T.a.negative,l<0),c)),children:[Object(g.jsx)("td",{children:"Total"}),Object(g.jsx)("td",{}),Object(g.jsx)("td",{colSpan:"2",children:v(r,5)}),Object(g.jsx)("td",{children:a}),Object(g.jsxs)("td",{children:["$",i]}),Object(g.jsx)("td",{children:v(n[e],4)||"Pending..."}),Object(g.jsx)("td",{children:s||"Pending..."}),Object(g.jsx)("td",{children:l||"Pending..."})]})]})]},e)})}))},B=n(11),k=n.n(B),S=function(e){var t,n=e.data,c=e.coinsPrice,r=Object.keys(n).reduce((function(e,t){return e+v(n[t].reduce((function(e,t){return"BUY"===t[2]?e+ +t[7]:e-+t[7]}),0),2)}),0),a=Object.keys(n).reduce((function(e,t){var r=.999*n[t].reduce((function(e,t){return"BUY"===t[2]?e+ +t[4]:e-+t[4]}),0);return console.log(r),e+r*c[t]}),0),i=v(a-r,2);return Object(g.jsxs)(f.a,{className:k.a.table,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{className:k.a.titleRow,children:[Object(g.jsx)("th",{children:"Total Spend"}),Object(g.jsx)("th",{children:"Current Value"}),Object(g.jsx)("th",{children:"Diff"})]})}),Object(g.jsx)("tbody",{children:Object(g.jsxs)("tr",{className:_()(k.a.totalRow,(t={},Object(j.a)(t,k.a.positive,i>=0),Object(j.a)(t,k.a.negative,i<0),t)),children:[Object(g.jsxs)("td",{children:[v(r,2),"$"]}),Object(g.jsxs)("td",{children:[v(a,2),"$"]}),Object(g.jsxs)("td",{children:[i,"$"]})]})})]})},w=n(23),N=n.n(w),R=function(){var e=Object(c.useState)(JSON.parse(localStorage.getItem("data"))),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)({}),i=Object(b.a)(a,2),s=i[0],h=i[1],f=function(){n&&Object.keys(n).forEach(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api1.binance.com/api/v3/ticker/price?symbol=".concat(t)).then((function(e){return e.json()})).then((function(e){var t=e.symbol,n=e.price;return h((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},t,n))}))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}())},p=function(e){var t=e.target.files;t&&t[0]&&function(e){var t=new FileReader,n=!!t.readAsBinaryString;t.onload=function(e){var t=e.target.result,c=O.a.read(t,{type:n?"binary":"array"}),a=c.SheetNames[0],i=c.Sheets[a],s=O.a.utils.sheet_to_json(i,{header:1}).filter((function(e){return e.includes("BUY")||e.includes("SELL")})),l=Array.from(new Set(s.map((function(e){return e[1]})))),j={};l.forEach((function(e){j[e]=s.filter((function(t){return t[1]===e}))})),r(j),localStorage.setItem("data",JSON.stringify(j))},n?t.readAsBinaryString(e):t.readAsArrayBuffer(e)}(t[0])};return Object(c.useEffect)((function(){f();var e=setInterval((function(){f()}),1e4);return function(){return clearInterval(e)}}),[n]),Object(g.jsx)(x.a,{children:Object(g.jsx)("div",{className:N.a.app,children:Object(g.jsxs)(u.a,{children:[Object(g.jsx)("input",{className:N.a.input,onChange:function(e){return p(e)},type:"file"}),n&&Object(g.jsx)(S,{data:n,coinsPrice:s}),n&&Object(g.jsx)(y,{data:n,coinsPrice:s})]})})})};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(R,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.3af9692d.chunk.js.map