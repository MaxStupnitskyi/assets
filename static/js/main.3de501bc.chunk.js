(this.webpackJsonpbinance=this.webpackJsonpbinance||[]).push([[0],{10:function(e,t,c){e.exports={tableWrapper:"TableBlock_tableWrapper__3TZFm",table:"TableBlock_table__3J1J1",title:"TableBlock_title__oqcT7",header:"TableBlock_header__34bI2",totalRow:"TableBlock_totalRow__8iUvp",positive:"TableBlock_positive__2JUG4",negative:"TableBlock_negative__3iLEv"}},11:function(e,t,c){e.exports={tableWrapper:"TotalTable_tableWrapper__2szHx",table:"TotalTable_table__Mltg9",titleRow:"TotalTable_titleRow__1YDvm",totalRow:"TotalTable_totalRow__3L-Et",positive:"TotalTable_positive__2hvRs",negative:"TotalTable_negative__1i0YO"}},23:function(e,t,c){e.exports={app:"App_app__3BT4Y",input:"App_input__1k4p7"}},26:function(e,t){},39:function(e,t){},40:function(e,t){},42:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(14),i=c.n(a),s=c(6),l=c.n(s),j=c(5),o=c(3),d=c(15),b=c(4),u=c(44),h=(c(33),c(22)),O=c.n(h),p=c(27),x=c(43),f=c(8),_=c.n(f),v=function(e,t){return parseFloat(Number(e).toFixed(t))},m=c(10),T=c.n(m),g=c(0),y=function(e){var t=e.data,c=e.coinsPrice;return Object.keys(t).map((function(e){var n,r=.999*t[e].reduce((function(e,t){return"BUY"===t[2]?e+ +t[4]:e-+t[4]}),0),a=v(t[e].reduce((function(e,t){return"BUY"===t[2]&&e+ +t[5]}),0)/t[e].filter((function(e){return"BUY"===e[2]})).length,4),i=v(t[e].reduce((function(e,t){return"BUY"===t[2]?e+ +t[7]:e-+t[7]}),0),2),s=v(c[e]*r,2),l=v(s-i,2);return i>=1&&Object(g.jsx)("div",{className:T.a.tableWrapper,children:Object(g.jsxs)(x.a,{className:T.a.table,variant:"dark",children:[Object(g.jsxs)("thead",{children:[Object(g.jsx)("tr",{className:T.a.title,children:Object(g.jsx)("th",{colSpan:"9",children:e.slice(0,-4)})}),Object(g.jsxs)("tr",{className:T.a.header,children:[Object(g.jsx)("th",{children:"Date"}),Object(g.jsx)("th",{children:"Type"}),Object(g.jsx)("th",{children:"Order Amount"}),Object(g.jsx)("th",{children:"Fee"}),Object(g.jsx)("th",{children:"Price"}),Object(g.jsx)("th",{children:"Total"}),Object(g.jsx)("th",{children:"Current Price"}),Object(g.jsx)("th",{children:"Current Value"}),Object(g.jsx)("th",{children:"Diff"})]})]}),Object(g.jsxs)("tbody",{children:[t[e].map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e[0]}),Object(g.jsx)("td",{children:e[2]}),Object(g.jsx)("td",{children:e[4]}),Object(g.jsx)("td",{children:v(e[4]-.999*e[4],8)}),Object(g.jsx)("td",{children:v(e[5],4)}),Object(g.jsxs)("td",{children:["$",v(e[7],2)]}),Object(g.jsx)("td",{}),Object(g.jsx)("td",{}),Object(g.jsx)("td",{})]},e[0])})),Object(g.jsxs)("tr",{className:_()(T.a.totalRow,(n={},Object(j.a)(n,T.a.positive,l>=0),Object(j.a)(n,T.a.negative,l<0),n)),children:[Object(g.jsx)("td",{children:"Total"}),Object(g.jsx)("td",{}),Object(g.jsx)("td",{colSpan:"2",children:v(r,5)}),Object(g.jsx)("td",{children:a}),Object(g.jsxs)("td",{children:["$",i]}),Object(g.jsx)("td",{children:v(c[e],4)||"Pending..."}),Object(g.jsx)("td",{children:s||"Pending..."}),Object(g.jsx)("td",{children:l||"Pending..."})]})]})]},e)})}))},B=c(11),k=c.n(B),S=function(e){var t,c=e.data,n=e.coinsPrice,r=Object.keys(c).reduce((function(e,t){return e+v(c[t].reduce((function(e,t){return"BUY"===t[2]?e+ +t[7]:e-+t[7]}),0),2)}),0),a=Object.keys(c).reduce((function(e,t){var r=.999*c[t].reduce((function(e,t){return"BUY"===t[2]?e+ +t[4]:e-+t[4]}),0);return console.log(r),e+r*n[t]}),0),i=v(a-r,2);return Object(g.jsx)("div",{className:k.a.tableWrapper,children:Object(g.jsxs)(x.a,{className:k.a.table,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{className:k.a.titleRow,children:[Object(g.jsx)("th",{children:"Total Spend"}),Object(g.jsx)("th",{children:"Current Value"}),Object(g.jsx)("th",{children:"Diff"})]})}),Object(g.jsx)("tbody",{children:Object(g.jsxs)("tr",{className:_()(k.a.totalRow,(t={},Object(j.a)(t,k.a.positive,i>=0),Object(j.a)(t,k.a.negative,i<0),t)),children:[Object(g.jsxs)("td",{children:[v(r,2),"$"]}),Object(g.jsxs)("td",{children:[v(a,2),"$"]}),Object(g.jsxs)("td",{children:[i,"$"]})]})})]})})},w=c(23),N=c.n(w),R=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("data"))),t=Object(b.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)({}),i=Object(b.a)(a,2),s=i[0],h=i[1],x=function(){c&&Object.keys(c).forEach(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api1.binance.com/api/v3/ticker/price?symbol=".concat(t)).then((function(e){return e.json()})).then((function(e){var t=e.symbol,c=e.price;return h((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},t,c))}))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}())},f=function(e){var t=e.target.files;t&&t[0]&&function(e){var t=new FileReader,c=!!t.readAsBinaryString;t.onload=function(e){var t=e.target.result,n=O.a.read(t,{type:c?"binary":"array"}),a=n.SheetNames[0],i=n.Sheets[a],s=O.a.utils.sheet_to_json(i,{header:1}).filter((function(e){return e.includes("BUY")||e.includes("SELL")})),l=Array.from(new Set(s.map((function(e){return e[1]})))),j={};l.forEach((function(e){j[e]=s.filter((function(t){return t[1]===e}))})),r(j),localStorage.setItem("data",JSON.stringify(j))},c?t.readAsBinaryString(e):t.readAsArrayBuffer(e)}(t[0])};return Object(n.useEffect)((function(){x();var e=setInterval((function(){x()}),1e4);return function(){return clearInterval(e)}}),[c]),Object(g.jsx)(p.a,{children:Object(g.jsx)("div",{className:N.a.app,children:Object(g.jsxs)(u.a,{children:[Object(g.jsx)("input",{className:N.a.input,onChange:function(e){return f(e)},type:"file"}),c&&Object(g.jsx)(S,{data:c,coinsPrice:s}),c&&Object(g.jsx)(y,{data:c,coinsPrice:s})]})})})};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(R,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.3de501bc.chunk.js.map